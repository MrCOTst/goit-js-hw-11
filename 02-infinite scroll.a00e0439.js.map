{"mappings":"kgBAAe,SAAAA,EAAmBC,GACzB,MAAQ,yDAEGA,EAAKC,sBAAsBD,EAAKE,oHAGxBF,EAAKG,qFAGLH,EAAKI,wFAGFJ,EAAKK,4FAGJL,EAAKM,0DCVrC,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,yBAC/BC,YAAaF,SAASC,cAAc,gBACpCE,iBAAkBH,SAASC,cAAc,YACzCG,QAASJ,SAASC,cAAc,aAG5BI,EAAkB,IAAI,EAAAC,EAAAC,SAkB5B,SAASC,IACPH,EAAgBI,gBAAgBC,MAAKnB,IAOnC,GAiBJ,SAA4BoB,GAC1B,MAAMC,EAASD,EAAKE,KAAKC,KAAIvB,GAAQD,EAAUC,KAAOwB,KAAK,IAC3DjB,EAAKK,iBAAiBa,mBAAmB,YAAaJ,GAzBpDK,CAAmB1B,GACnB2B,EAASd,QAAQN,EAAKM,SACO,IAAzBC,EAAgBc,MAAc5B,EAAKsB,KAAKO,QAC1CC,EAAAC,OAAOC,QAAQ,oBAAoBhC,EAAKiC,qBAGrCjC,EAAKsB,KAAKO,QAAW7B,EAAKiC,UAQ/B,OAFFC,QAAQC,IAAInC,EAAMsB,KAAKO,OAASf,EAAgBsB,YAAe,IAExDpC,EAAKsB,KAAKO,QAAU7B,EAAKiC,WAAcjC,EAAMsB,KAAKO,OAASf,EAAgBsB,YAAe,GAC7FN,EAAAC,OAAOM,KAAK,mEACZV,EAASW,UAAU/B,EAAKM,eAF1B,EAPEiB,EAAAC,OAAOQ,QACL,+EAoBR,SAASC,IACPjC,EAAKK,iBAAiB6B,UAAY,GA/CpClC,EAAKI,YAAY+B,iBAAiB,UAElC,SAAqBC,GAKnB,GAJAA,EAAEC,iBACFJ,IACA1B,EAAgB+B,MAAQF,EAAEG,cAAcC,SAASC,YAAYC,MAAMC,OAErC,KAA1BpC,EAAgB+B,MAGlB,OAFAf,EAAAC,OAAOM,KAAK,gCACZG,IAGF1B,EAAgBqC,YAChBlC,OAqCF,MAeMU,EAAW,IAAIyB,sBAfLC,IACdA,EAAQC,SAAQC,IACd,GAAIA,EAAMC,gBAA4C,KAA1B1C,EAAgB+B,MAAc,CACxD5B,IACA,MAAQwC,OAAQC,GAAejD,SAC5BC,cAAc,YACdiD,kBAAkBC,wBACrBC,OAAOC,SAAS,CACdC,IAAkB,EAAbL,EACLM,SAAU,iBAMiC,CACjDC,WAAY","sources":["src/js/card-markup.js","src/js/02-infinite scroll.js"],"sourcesContent":["export default function photoCard(data) {\n         return  `\n        <div class=\"photo-card\">\n        <img src=\"${data.webformatURL}\" alt=\"${data.tags} \" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes: </b>${data.likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views: </b>${data.views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments: </b>${data.comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads: </b>${data.downloads}\n          </p>\n        </div>\n      </div>`\n       };","import '../css/styles.css';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport PhotoApiService from './photo-service';\nimport photoCard from './card-markup';\n\nconst refs = {\n  submit: document.querySelector('button[type=\"submit\"]'),\n  inputSearch: document.querySelector('.search-form'),\n  galleryConteiner: document.querySelector('.gallery'),\n  observe: document.querySelector('.observe'),\n};\n\nconst photoApiService = new PhotoApiService();\n\nrefs.inputSearch.addEventListener('submit', startSearch);\n\nfunction startSearch(e) {\n  e.preventDefault();\n  clearGalleryConteiner();\n  photoApiService.query = e.currentTarget.elements.searchQuery.value.trim();\n\n  if (photoApiService.query === '') {\n    Notify.info('Please enter something.');\n    clearGalleryConteiner();\n    return;\n  }\n  photoApiService.resetPage();\n  fatchCards();\n}\n\nfunction fatchCards() {\n  photoApiService.fetchArticles().then(data => {\n    appendGalleryCards(data);\n    observer.observe(refs.observe);\n    if (photoApiService.page === 2 && data.hits.length) {\n      Notify.success(`Hooray! We found ${data.totalHits} images.`);\n    }\n\n    if (!data.hits.length && !data.totalHits) {\n      Notify.warning(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n       return;\n    }\n  console.log((data.hits.length / photoApiService.fotoForPage) < 1 );\n\n    if (!data.hits.length && data.totalHits && ((data.hits.length / photoApiService.fotoForPage) < 1 )) {\n      Notify.info(\"We're sorry, but you've reached the end of search results.\");\n      observer.unobserve(refs.observe);\n      return;\n    }\n  \n  });\n}\n\nfunction appendGalleryCards(data) {\n  const markup = data.hits.map(data => photoCard(data)).join('');\n  refs.galleryConteiner.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearGalleryConteiner() {\n  refs.galleryConteiner.innerHTML = '';\n}\n\nconst onEntry = entries => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting && photoApiService.query !== '') {\n      fatchCards();\n      const { height: cardHeight } = document\n        .querySelector('.gallery')\n        .firstElementChild.getBoundingClientRect();\n      window.scrollBy({\n        top: cardHeight * 2,\n        behavior: 'smooth',\n      });\n    }\n  });\n};\n\nconst observer = new IntersectionObserver(onEntry, {\n  rootMargin: '100px',\n});\n\n"],"names":["$02ed5811993e6f78$export$2e2bcd8739ae039","data","webformatURL","tags","likes","views","comments","downloads","$65ccdd6a7bc0f3f3$var$refs","submit","document","querySelector","inputSearch","galleryConteiner","observe","$65ccdd6a7bc0f3f3$var$photoApiService","$fhPA4","default","$65ccdd6a7bc0f3f3$var$fatchCards","fetchArticles","then","data1","markup","hits","map","join","insertAdjacentHTML","$65ccdd6a7bc0f3f3$var$appendGalleryCards","$65ccdd6a7bc0f3f3$var$observer","page","length","$iQIUW","Notify","success","totalHits","console","log","fotoForPage","info","unobserve","warning","$65ccdd6a7bc0f3f3$var$clearGalleryConteiner","innerHTML","addEventListener","e","preventDefault","query","currentTarget","elements","searchQuery","value","trim","resetPage","IntersectionObserver","entries","forEach","entry","isIntersecting","height","cardHeight","firstElementChild","getBoundingClientRect","window","scrollBy","top","behavior","rootMargin"],"version":3,"file":"02-infinite scroll.a00e0439.js.map"}