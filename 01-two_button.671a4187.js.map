{"mappings":"kgBAAe,SAAAA,EAAmBC,GACzB,MAAQ,yDAEGA,EAAKC,sBAAsBD,EAAKE,oHAGxBF,EAAKG,qFAGLH,EAAKI,wFAGFJ,EAAKK,4FAGJL,EAAKM,0DCTrC,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,yBAC/BC,YAAaF,SAASC,cAAc,gBACpCE,iBAAkBH,SAASC,cAAc,aAGrCG,EAAkB,IAAI,EAAAC,EAAAC,SACtBC,EAAiB,ICbR,MAMbC,QAAQC,GACN,MAAMC,EAAO,GAIb,OAHAA,EAAKC,OAASX,SAASC,cAAcQ,GACrCC,EAAKE,MAAQF,EAAKC,OAAOV,cAAc,UACvCS,EAAKG,QAAUH,EAAKC,OAAOV,cAAc,YAClCS,EAGTI,SACEC,KAAKL,KAAKC,OAAOK,UAAW,EAC5BD,KAAKL,KAAKE,MAAMK,YAAc,YAC9BF,KAAKL,KAAKG,QAAQK,UAAUC,IAAI,aAGlCH,WACED,KAAKL,KAAKC,OAAOK,UAAW,EAC5BD,KAAKL,KAAKE,MAAMK,YAAc,aAC9BF,KAAKL,KAAKG,QAAQK,UAAUE,OAAO,aAGrCC,OACEN,KAAKL,KAAKC,OAAOO,UAAUE,OAAO,aAGpCE,OACEP,KAAKL,KAAKC,OAAOO,UAAUC,IAAI,aA9BjCI,aAAYd,SAAEA,EAAQe,OAAEA,GAAS,IAC/BT,KAAKL,KAAOK,KAAKP,QAAQC,GACzBe,GAAUT,KAAKO,SDUuB,CACxCb,SAAU,4BACVe,QAAQ,IAwBV,SAASC,IACPlB,EAAeS,WACfZ,EAAgBsB,gBAAgBC,MAAKpC,IACnCgB,EAAeO,SA+BnB,SAA4Bc,GAC1B,MAAMC,EAASD,EAAKE,KAAKC,KAAIxC,GAAQD,EAAUC,KAAOyC,KAAK,IAC3DlC,EAAKK,iBAAiB8B,mBAAmB,YAAaJ,GA/BpDK,CAAmB3C,GAES,IAAzBa,EAAgB+B,MAAc5C,EAAKuC,KAAKM,QAC3CC,EAAAC,OAAOC,QAAQ,oBAAoBhD,EAAKiD,qBAGnCjD,EAAKuC,KAAKM,QAAW7C,EAAKiD,WAQ1BjD,EAAKuC,KAAKM,QAAU7C,EAAKiD,WAC5BH,EAAAC,OAAOG,KACL,mEAEFlC,EAAee,aAJjB,GAPEe,EAAAC,OAAOI,QACL,iFAEFnC,EAAee,WAwBrB,SAASqB,IACP7C,EAAKK,iBAAiByC,UAAY,GA7DpC9C,EAAKI,YAAY2C,iBAAiB,UAGlC,SAAqBC,GAMnB,GALAA,EAAEC,iBACFJ,IACAvC,EAAgB4C,MAAQF,EAAEG,cAAcC,SAASC,YAAYC,MAAMC,OACnEjD,EAAgBkD,YAEc,KAA1BlD,EAAgB4C,MAIlB,OAHAX,EAAAC,OAAOG,KAAK,2BACZE,SACApC,EAAee,OAGjBG,IAEAlB,EAAec,UAhBjBd,EAAeG,KAAKC,OAAOkC,iBAAiB,QAASpB","sources":["src/js/card-markup.js","src/js/01-two-button.js","src/js/lode-more-button.js"],"sourcesContent":["export default function photoCard(data) {\n         return  `\n        <div class=\"photo-card\">\n        <img src=\"${data.webformatURL}\" alt=\"${data.tags} \" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes: </b>${data.likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views: </b>${data.views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments: </b>${data.comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads: </b>${data.downloads}\n          </p>\n        </div>\n      </div>`\n       };","import '../css/styles.css';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport PhotoApiService from './photo-service';\nimport LoadMoreButton from './lode-more-button';\nimport photoCard from './card-markup';\n\nconst refs = {\n  submit: document.querySelector('button[type=\"submit\"]'),\n  inputSearch: document.querySelector('.search-form'),\n  galleryConteiner: document.querySelector('.gallery'),\n};\n\nconst photoApiService = new PhotoApiService();\nconst loadMoreButton = new LoadMoreButton({\n  selector: '[data-action=\"load-more\"]',\n  hidden: true,\n});\n\nrefs.inputSearch.addEventListener('submit', startSearch);\nloadMoreButton.refs.button.addEventListener('click', fatchCards);\n\nfunction startSearch(e) {\n  e.preventDefault();\n  clearGalleryConteiner();\n  photoApiService.query = e.currentTarget.elements.searchQuery.value.trim();\n  photoApiService.resetPage();\n\n  if (photoApiService.query === '') {\n    Notify.info('Please enter something.');\n    clearGalleryConteiner();\n    loadMoreButton.hide();\n    return;\n  }\n  fatchCards();\n  \n  loadMoreButton.show();\n  \n}\n\nfunction fatchCards() {\n  loadMoreButton.disabled();\n  photoApiService.fetchArticles().then(data => {\n    loadMoreButton.enable();\n\n    appendGalleryCards(data);\n\n    if(photoApiService.page === 2 && data.hits.length) {\n    Notify.success(`Hooray! We found ${data.totalHits} images.`);\n  }\n  \n    if (!data.hits.length && !data.totalHits) {\n      Notify.warning(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n      loadMoreButton.hide();\n      return;\n    }\n\n    if (!data.hits.length && data.totalHits) {\n      Notify.info(\n        \"We're sorry, but you've reached the end of search results.\"\n      );\n      loadMoreButton.hide();\n      return;\n    }\n}\n  );\n}\n//     loadMoreButton.disabled();\n//     loadMoreButton.enable();\n//     loadMoreButton.show();\n//     loadMoreButton.hide();\n\nfunction appendGalleryCards(data) {\n  const markup = data.hits.map(data => photoCard(data)).join('');\n  refs.galleryConteiner.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearGalleryConteiner() {\n  refs.galleryConteiner.innerHTML = '';\n}\n","export default class LoadMoreButton {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n    hidden && this.hide();\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n    refs.spinner = refs.button.querySelector('.spinner');\n    return refs;\n  }\n\n  enable() {\n    this.refs.button.disabled = false;\n    this.refs.label.textContent = 'Show more';\n    this.refs.spinner.classList.add('is-hidden');\n  }\n\n  disabled() {\n    this.refs.button.disabled = true;\n    this.refs.label.textContent = 'Loading...';\n    this.refs.spinner.classList.remove('is-hidden');\n  }\n\n  show() {\n    this.refs.button.classList.remove('is-hidden');\n  }\n\n  hide() {\n    this.refs.button.classList.add('is-hidden');\n  }\n}\n"],"names":["$02ed5811993e6f78$export$2e2bcd8739ae039","data","webformatURL","tags","likes","views","comments","downloads","$476f459b54f67b09$var$refs","submit","document","querySelector","inputSearch","galleryConteiner","$476f459b54f67b09$var$photoApiService","$fhPA4","default","$476f459b54f67b09$var$loadMoreButton","getRefs","selector","refs","button","label","spinner","enable","this","disabled","textContent","classList","add","remove","show","hide","constructor","hidden","$476f459b54f67b09$var$fatchCards","fetchArticles","then","data1","markup","hits","map","join","insertAdjacentHTML","$476f459b54f67b09$var$appendGalleryCards","page","length","$iQIUW","Notify","success","totalHits","info","warning","$476f459b54f67b09$var$clearGalleryConteiner","innerHTML","addEventListener","e","preventDefault","query","currentTarget","elements","searchQuery","value","trim","resetPage"],"version":3,"file":"01-two_button.671a4187.js.map"}